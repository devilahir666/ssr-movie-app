<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
  <title>Movie Details</title>
  <meta name="description" content="Details of the movie including download links and previews." />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 20px;
      color: #ffffff;
      background-color: #111111;
    }
    .container { max-width: 900px; margin: auto; }
    .movie-header { display: flex; gap: 16px; margin-bottom: 10px; }
    .poster-img { width: 120px; border-radius: 10px; box-shadow: 0 0 10px #ccc; }
    .info-block { flex: 1; display: flex; flex-direction: column; justify-content: center; }
    .movie-title { font-size: 24px; margin: 0; color: #fff; }
    .genre, .year { font-size: 14px; color: #ccc; }
    .description { margin-top: 12px; font-size: 16px; line-height: 1.6; color: #ddd; }
    .section-heading { margin-top: 18px; font-size: 18px; color: #fff; }
    .preview-images img { max-width: 100%; border-radius: 8px; margin: 10px 0; }
    .download-btn { display: inline-block; margin: 6px 6px 0 0; padding: 10px 16px; background: #ff3c3c; color: white; border-radius: 6px; text-decoration: none; font-weight: bold; }
    .site-footer { background-color: #111; color: #aaa; text-align: center; padding: 15px 10px; font-size: 14px; border-top: 1px solid #333; margin-top: 40px; }
    #loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000000e0; display: flex; align-items: center; justify-content: center; z-index: 9999; }
    .breadcrumb { font-size: 14px; color: #ccc; margin-bottom: 20px; display: flex; align-items: center; gap: 6px; }
    .breadcrumb a { color: #ff3c3c; text-decoration: none; font-weight: bold; }
    .breadcrumb a:hover { color: #ff6666; }
    .spinner { width: 40px; height: 40px; border: 5px solid #fff; border-top: 5px solid red; border-radius: 50%; animation: spin 1s linear infinite; }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    /* Share buttons style */
    .share-buttons { display: flex; gap: 10px; margin: 10px 0 20px; flex-wrap: wrap; }
    .share-btn { border-radius: 5px; padding: 8px 12px; font-size: 14px; text-decoration: none; display: inline-flex; align-items: center; gap: 5px; color: white; border: none; cursor: pointer; }
    .share-btn.whatsapp { background: #25D366; }
    .share-btn.telegram { background: #0088cc; }
    .share-btn.copy { background: #444; }
   .btn-download {
  display: inline-block;
  padding: 14px 26px;
  margin-top: 25px;
  background: linear-gradient(135deg, #16a34a, #4ade80);
  color: white;
  font-size: 20px;
  font-weight: 600;
  text-decoration: none;
  border-radius: 50px;
  box-shadow: 0 8px 20px rgba(22, 163, 74, 0.4);
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.2);
  letter-spacing: 1px;
  text-align: center;
}

.btn-download:hover {
  background: linear-gradient(135deg, #22c55e, #86efac);
  box-shadow: 0 10px 30px rgba(22, 163, 74, 0.7);
  transform: scale(1.05);
}

.btn-download:active {
  transform: scale(0.97);
  box-shadow: 0 5px 15px rgba(22, 163, 74, 0.6);
}
/* 🎯 Related Movies Section */
#relatedMovies {
    margin: 40px 20px;
}

#relatedMovies h3 {
    font-size: 22px;
    color: #fff;
    margin-bottom: 15px;
    font-weight: 600;
}

/* Related Movies Grid (same style as movie-grid) */
.related-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 12px;
}

/* Related Card (same as movie-card) */
.related-card {
    position: relative;
    display: block;
    width: 100%;
    height: 200px;
    border-radius: 6px;
    overflow: hidden;
    cursor: pointer;
    text-decoration: none;
    color: #fff;
    background-color: #111;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    box-shadow: 0 0 5px #222;
}

.related-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 6px;
    display: block;
}

.related-card p {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    margin: 0;
    padding: 8px;
    background: rgba(0, 0, 0, 0.7);
    font-size: 14px;
    font-weight: 600;
    text-align: center;
    color: #fff;
    border-radius: 0 0 6px 6px;
    box-sizing: border-box;
}

/* Hover effect (same as homepage movie-card) */
.related-card:hover {
    transform: scale(1.05);
    z-index: 10;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
}

  </style>
</head>

<body>
  <div id="loader"><div class="spinner"></div></div>
  <script type='text/javascript' src='//pl27414495.profitableratecpm.com/e7/23/0d/e7230d0823e4e80f8d7ceab8142e9e8c.js'></script>
  <script type='text/javascript' src='//pl27414495.profitableratecpm.com/e7/23/0d/e7230d0823e4e80f8d7ceab8142e9e8c.js'></script>
  <script type='text/javascript' src='//pl27414465.profitableratecpm.com/d9/30/9e/d9309ed0c19628bc7b1a8d37028e42c6.js'></script>
  <script type='text/javascript' src='//pl27414465.profitableratecpm.com/d9/30/9e/d9309ed0c19628bc7b1a8d37028e42c6.js'></script>
  <script type='text/javascript' src='//pl27414465.profitableratecpm.com/d9/30/9e/d9309ed0c19628bc7b1a8d37028e42c6.js'></script>
  <script type='text/javascript' src='//pl27414495.profitableratecpm.com/e7/23/0d/e7230d0823e4e80f8d7ceab8142e9e8c.js'></script>
  <script type='text/javascript' src='//pl27414495.profitableratecpm.com/e7/23/0d/e7230d0823e4e80f8d7ceab8142e9e8c.js'></script>
  <script type="application/javascript">
(function() {
    function randStr(e,t){for(var n="",r=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",o=0;o<e;o++)n+=r.charAt(Math.floor(Math.random()*r.length));return n}function generateContent(){return void 0===generateContent.val&&(generateContent.val="document.dispatchEvent("+randStr(4*Math.random()+3)+");"),generateContent.val}try{Object.defineProperty(document.currentScript,"innerHTML",{get:generateContent}),Object.defineProperty(document.currentScript,"textContent",{get:generateContent})}catch(e){};

    //version 7.0.0

    var adConfig = {
    "ads_host": "a.pemsrv.com",
    "syndication_host": "s.pemsrv.com",
    "idzone": 5700880,
    "popup_fallback": false,
    "popup_force": true,
    "chrome_enabled": true,
    "new_tab": true,
    "frequency_period": 1,
    "frequency_count": 1,
    "trigger_method": 1,
    "trigger_class": "",
    "trigger_delay": 0,
    "capping_enabled": true,
    "tcf_enabled": true,
    "only_inline": false
};

window.document.querySelectorAll||(document.querySelectorAll=document.body.querySelectorAll=Object.querySelectorAll=function(e,o,t,i,n){var r=document,a=r.createStyleSheet();for(n=r.all,o=[],t=(e=e.replace(/\[for\b/gi,"[htmlFor").split(",")).length;t--;){for(a.addRule(e[t],"k:v"),i=n.length;i--;)n[i].currentStyle.k&&o.push(n[i]);a.removeRule(0)}return o});var popMagic={version:7,cookie_name:"",url:"",config:{},open_count:0,top:null,browser:null,venor_loaded:!1,venor:!1,tcfData:null,configTpl:{ads_host:"",syndication_host:"",idzone:"",frequency_period:720,frequency_count:1,trigger_method:1,trigger_class:"",popup_force:!1,popup_fallback:!1,chrome_enabled:!0,new_tab:!1,cat:"",tags:"",el:"",sub:"",sub2:"",sub3:"",only_inline:!1,trigger_delay:0,capping_enabled:!0,tcf_enabled:!1,cookieconsent:!0,should_fire:function(){return!0},on_redirect:null},init:function(e){if(void 0!==e.idzone&&e.idzone){void 0===e.customTargeting&&(e.customTargeting=[]),window.customTargeting=e.customTargeting||null;var o=Object.keys(e.customTargeting).filter((function(e){return e.search("ex_")>=0}));for(var t in o.length&&o.forEach(function(e){return this.configTpl[e]=null}.bind(this)),this.configTpl)Object.prototype.hasOwnProperty.call(this.configTpl,t)&&(void 0!==e[t]?this.config[t]=e[t]:this.config[t]=this.configTpl[t]);if(void 0!==this.config.idzone&&""!==this.config.idzone){!0!==this.config.only_inline&&this.loadHosted();var i=this;this.checkTCFConsent((function(){"complete"===document.readyState?i.preparePopWait():i.addEventToElement(window,"load",i.preparePop)}))}}},getCountFromCookie:function(){if(!this.config.cookieconsent)return 0;var e=popMagic.getCookie(popMagic.cookie_name),o=void 0===e?0:parseInt(e);return isNaN(o)&&(o=0),o},getLastOpenedTimeFromCookie:function(){var e=popMagic.getCookie(popMagic.cookie_name),o=null;if(void 0!==e){var t=e.split(";")[1];o=t>0?parseInt(t):0}return isNaN(o)&&(o=null),o},shouldShow:function(){if(!popMagic.config.capping_enabled){var e=!0,o=popMagic.config.should_fire;try{"function"==typeof o&&(e=Boolean(o()))}catch(e){console.error("Error executing should fire callback function:",e)}return e&&0===popMagic.open_count}if(popMagic.open_count>=popMagic.config.frequency_count)return!1;var t=popMagic.getCountFromCookie(),i=popMagic.getLastOpenedTimeFromCookie(),n=Math.floor(Date.now()/1e3),r=i+popMagic.config.trigger_delay;return!(i&&r>n)&&(popMagic.open_count=t,!(t>=popMagic.config.frequency_count))},venorShouldShow:function(){return popMagic.venor_loaded&&"0"===popMagic.venor},setAsOpened:function(e){var o=e?e.target||e.srcElement:null,t={id:"",tagName:"",classes:"",text:"",href:"",elm:""};void 0!==o&&null!=o&&(t={id:void 0!==o.id&&null!=o.id?o.id:"",tagName:void 0!==o.tagName&&null!=o.tagName?o.tagName:"",classes:void 0!==o.classList&&null!=o.classList?o.classList:"",text:void 0!==o.outerText&&null!=o.outerText?o.outerText:"",href:void 0!==o.href&&null!=o.href?o.href:"",elm:o});var i=new CustomEvent("creativeDisplayed-"+popMagic.config.idzone,{detail:t});if(document.dispatchEvent(i),popMagic.config.capping_enabled){var n=1;n=0!==popMagic.open_count?popMagic.open_count+1:popMagic.getCountFromCookie()+1;var r=Math.floor(Date.now()/1e3);popMagic.config.cookieconsent&&popMagic.setCookie(popMagic.cookie_name,n+";"+r,popMagic.config.frequency_period)}else++popMagic.open_count},loadHosted:function(){var e=document.createElement("script");for(var o in e.type="application/javascript",e.async=!0,e.src="//"+this.config.ads_host+"/popunder1000.js",e.id="popmagicldr",this.config)Object.prototype.hasOwnProperty.call(this.config,o)&&"ads_host"!==o&&"syndication_host"!==o&&e.setAttribute("data-exo-"+o,this.config[o]);var t=document.getElementsByTagName("body").item(0);t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},preparePopWait:function(){setTimeout(popMagic.preparePop,400)},preparePop:function(){if("object"!=typeof exoJsPop101||!Object.prototype.hasOwnProperty.call(exoJsPop101,"add")){if(popMagic.top=self,popMagic.top!==self)try{top.document.location.toString()&&(popMagic.top=top)}catch(e){}if(popMagic.cookie_name="zone-cap-"+popMagic.config.idzone,popMagic.config.capping_enabled||(document.cookie=popMagic.cookie_name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"),popMagic.shouldShow()){var e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&(popMagic.venor_loaded=!0,200==e.status?popMagic.venor=e.responseText:popMagic.venor="0")};var o="https:"!==document.location.protocol&&"http:"!==document.location.protocol?"https:":document.location.protocol;e.open("GET",o+"//"+popMagic.config.syndication_host+"/venor.php",!0);try{e.send()}catch(e){popMagic.venor_loaded=!0}}if(popMagic.buildUrl(),popMagic.browser=popMagic.browserDetector.getBrowserInfo(),popMagic.config.chrome_enabled||!popMagic.browser.isChrome){var t=popMagic.getPopMethod(popMagic.browser);popMagic.addEvent("click",t)}}},getPopMethod:function(e){return popMagic.config.popup_force||popMagic.config.popup_fallback&&e.isChrome&&e.version>=68&&!e.isMobile?popMagic.methods.popup:e.isMobile?popMagic.methods.default:e.isChrome?popMagic.methods.chromeTab:popMagic.methods.default},checkTCFConsent:function(e){if(this.config.tcf_enabled&&"function"==typeof window.__tcfapi){var o=this;window.__tcfapi("addEventListener",2,(function(t,i){i&&(o.tcfData=t,"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||(window.__tcfapi("removeEventListener",2,(function(){}),t.listenerId),e()))}))}else e()},buildUrl:function(){var e,o="https:"!==document.location.protocol&&"http:"!==document.location.protocol?"https:":document.location.protocol,t=top===self?document.URL:document.referrer,i={type:"inline",name:"popMagic",ver:this.version},n="";customTargeting&&Object.keys(customTargeting).length&&("object"==typeof customTargeting?Object.keys(customTargeting):customTargeting).forEach((function(o){"object"==typeof customTargeting?e=customTargeting[o]:Array.isArray(customTargeting)&&(e=scriptEl.getAttribute(o));var t=o.replace("data-exo-","");n+="&"+t+"="+e}));var r=this.tcfData&&this.tcfData.gdprApplies&&!0===this.tcfData.gdprApplies?1:0;this.url=o+"//"+this.config.syndication_host+"/v1/link.php?cat="+this.config.cat+"&idzone="+this.config.idzone+"&type=8&p="+encodeURIComponent(t)+"&sub="+this.config.sub+(""!==this.config.sub2?"&sub2="+this.config.sub2:"")+(""!==this.config.sub3?"&sub3="+this.config.sub3:"")+"&block=1&el="+this.config.el+"&tags="+this.config.tags+"&scr_info="+function(e){var o=e.type+"|"+e.name+"|"+e.ver;return encodeURIComponent(btoa(o))}(i)+n+"&gdpr="+r+"&cb="+Math.floor(1e9*Math.random()),this.tcfData&&this.tcfData.tcString?this.url+="&gdpr_consent="+encodeURIComponent(this.tcfData.tcString):this.url+="&cookieconsent="+this.config.cookieconsent},addEventToElement:function(e,o,t){e.addEventListener?e.addEventListener(o,t,!1):e.attachEvent?(e["e"+o+t]=t,e[o+t]=function(){e["e"+o+t](window.event)},e.attachEvent("on"+o,e[o+t])):e["on"+o]=e["e"+o+t]},getTriggerClasses:function(){var e,o=[];-1===popMagic.config.trigger_class.indexOf(",")?e=popMagic.config.trigger_class.split(" "):e=popMagic.config.trigger_class.replace(/\s/g,"").split(",");for(var t=0;t<e.length;t++)""!==e[t]&&o.push("."+e[t]);return o},addEvent:function(e,o){var t;if("3"!=popMagic.config.trigger_method)if("2"!=popMagic.config.trigger_method||""==popMagic.config.trigger_method)if("4"!=popMagic.config.trigger_method||""==popMagic.config.trigger_method)popMagic.addEventToElement(document,e,o);else{var n=popMagic.getTriggerClasses();popMagic.addEventToElement(document,e,(function(e){n.some((function(o){return null!==e.target.closest(o)}))||o.call(e.target,e)}))}else{var r=popMagic.getTriggerClasses();for(t=document.querySelectorAll(r.join(", ")),i=0;i<t.length;i++)popMagic.addEventToElement(t[i],e,o)}else for(t=document.querySelectorAll("a"),i=0;i<t.length;i++)popMagic.addEventToElement(t[i],e,o)},setCookie:function(e,o,t){if(!this.config.cookieconsent)return!1;t=parseInt(t,10);var i=new Date;i.setMinutes(i.getMinutes()+parseInt(t));var n=encodeURIComponent(o)+"; expires="+i.toUTCString()+"; path=/";document.cookie=e+"="+n},getCookie:function(e){if(!this.config.cookieconsent)return!1;var o,t,i,n=document.cookie.split(";");for(o=0;o<n.length;o++)if(t=n[o].substr(0,n[o].indexOf("=")),i=n[o].substr(n[o].indexOf("=")+1),(t=t.replace(/^\s+|\s+$/g,""))===e)return decodeURIComponent(i)},randStr:function(e,o){for(var t="",i=o||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t},isValidUserEvent:function(e){return!(!("isTrusted"in e)||!e.isTrusted||"ie"===popMagic.browser.name||"safari"===popMagic.browser.name)||0!=e.screenX&&0!=e.screenY},isValidHref:function(e){if(void 0===e||""==e)return!1;return!/\s?javascript\s?:/i.test(e)},findLinkToOpen:function(e){var o=e,t=!1;try{for(var i=0;i<20&&!o.getAttribute("href")&&o!==document&&"html"!==o.nodeName.toLowerCase();)o=o.parentNode,i++;var n=o.getAttribute("target");n&&-1!==n.indexOf("_blank")||(t=o.getAttribute("href"))}catch(e){}return popMagic.isValidHref(t)||(t=!1),t||window.location.href},getPuId:function(){return"ok_"+Math.floor(89999999*Math.random()+1e7)},executeOnRedirect:function(){try{popMagic.config.capping_enabled||"function"!=typeof popMagic.config.on_redirect||popMagic.config.on_redirect()}catch(e){console.error("Error executing on redirect callback:",e)}},browserDetector:{browserDefinitions:[["firefox",/Firefox\/([0-9.]+)(?:\s|$)/],["opera",/Opera\/([0-9.]+)(?:\s|$)/],["opera",/OPR\/([0-9.]+)(:?\s|$)$/],["edge",/Edg(?:e|)\/([0-9._]+)/],["ie",/Trident\/7\.0.*rv:([0-9.]+)\).*Gecko$/],["ie",/MSIE\s([0-9.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["safari",/Version\/([0-9._]+).*Safari/],["chrome",/(?!Chrom.*Edg(?:e|))Chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/],["bb10",/BB10;\sTouch.*Version\/([0-9.]+)/],["android",/Android\s([0-9.]+)/],["ios",/Version\/([0-9._]+).*Mobile.*Safari.*/],["yandexbrowser",/YaBrowser\/([0-9._]+)/],["crios",/CriOS\/([0-9.]+)(:?\s|$)/]],isChromeOrChromium:function(){var e=window.navigator,o=(e.userAgent||"").toLowerCase(),t=e.vendor||"";if(-1!==o.indexOf("crios"))return!0;if(e.userAgentData&&Array.isArray(e.userAgentData.brands)&&e.userAgentData.brands.length>0){var i=e.userAgentData.brands,n=i.some((function(e){return"Google Chrome"===e.brand})),r=i.some((function(e){return"Chromium"===e.brand}))&&2===i.length;return n||r}var a=!!window.chrome,c=-1!==o.indexOf("edg"),p=!!window.opr||-1!==o.indexOf("opr"),s=!(!e.brave||!e.brave.isBrave),g=-1!==o.indexOf("vivaldi"),d=-1!==o.indexOf("yabrowser"),l=-1!==o.indexOf("samsungbrowser"),u=-1!==o.indexOf("ucbrowser");return a&&"Google Inc."===t&&!c&&!p&&!s&&!g&&!d&&!l&&!u},getBrowserInfo:function(){var e=window.navigator.userAgent,o={name:"other",version:"1.0",versionNumber:1,isChrome:this.isChromeOrChromium(),isMobile:!!e.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WebOS|Windows Phone/i)};for(var t in this.browserDefinitions){var i=this.browserDefinitions[t];if(i[1].test(e)){var n=i[1].exec(e),r=n&&n[1].split(/[._]/).slice(0,3),a=Array.prototype.slice.call(r,1).join("")||"0";r&&r.length<3&&Array.prototype.push.apply(r,1===r.length?[0,0]:[0]),o.name=i[0],o.version=r.join("."),o.versionNumber=parseFloat(r[0]+"."+a);break}}return o}},methods:{default:function(e){if(!popMagic.shouldShow()||!popMagic.venorShouldShow()||!popMagic.isValidUserEvent(e))return!0;var o=e.target||e.srcElement,t=popMagic.findLinkToOpen(o);return window.open(t,"_blank"),popMagic.setAsOpened(e),popMagic.executeOnRedirect(),popMagic.top.document.location=popMagic.url,void 0!==e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!0},chromeTab:function(e){if(!popMagic.shouldShow()||!popMagic.venorShouldShow()||!popMagic.isValidUserEvent(e))return!0;if(void 0===e.preventDefault)return!0;e.preventDefault(),e.stopPropagation();var o=top.window.document.createElement("a"),t=e.target||e.srcElement;o.href=popMagic.findLinkToOpen(t),document.getElementsByTagName("body")[0].appendChild(o);var i=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!0,altKey:!1,shiftKey:!1,metaKey:!0,button:0});i.preventDefault=void 0,o.dispatchEvent(i),o.parentNode.removeChild(o),popMagic.executeOnRedirect(),window.open(popMagic.url,"_self"),popMagic.setAsOpened(e)},popup:function(e){if(!popMagic.shouldShow()||!popMagic.venorShouldShow()||!popMagic.isValidUserEvent(e))return!0;var o="";if(popMagic.config.popup_fallback&&!popMagic.config.popup_force){var t=Math.max(Math.round(.8*window.innerHeight),300);o="menubar=1,resizable=1,width="+Math.max(Math.round(.7*window.innerWidth),300)+",height="+t+",top="+(window.screenY+100)+",left="+(window.screenX+100)}var i=document.location.href,n=window.open(i,popMagic.getPuId(),o);popMagic.setAsOpened(e),setTimeout((function(){n.location.href=popMagic.url,popMagic.executeOnRedirect()}),200),void 0!==e.preventDefault&&(e.preventDefault(),e.stopPropagation())}}};    popMagic.init(adConfig);
})();


</script>

  <nav class="breadcrumb">
    
    <a href="index.html">🏠 Home</a> › 
    <span id="breadcrumbTitle"></span>
  </nav>
  
  
  <div id="movieDetails" class="container"></div>
 
 <div id="downloadSection"></div>

  <button style="background-color: #4CAF50; color: white; padding: 15px 32px; text-align: center; text-decoration: none; display: inline-block; font-size: 16px; margin: 4px 2px; cursor: pointer; border-radius: 8px;" onclick="window.location.href='https://www.profitableratecpm.com/v0n5796ms?key=823f72134cf9b4d00115ed1c1679f74a';"> Download Now </button>
  

  <footer class="site-footer"><p>© 2025 MoviesHub. All rights reserved.</p></footer>

<script>
function proxyLink(originalUrl) {
  return `https://movie-proxy.bharatchavda00666.workers.dev/?url=${encodeURIComponent(originalUrl)}`;
}

document.getElementById("loader").style.display = "flex";

const movieId = new URLSearchParams(window.location.search).get("id");
const backendUrl = `https://movie-backend-uqfx.onrender.com/movies`;

fetch(backendUrl)
.then(res => {
  if (!res.ok) {
    throw new Error('Network response was not ok');
  }
  return res.json();
})
.then(data => {
  const movie = data.find(m => m.id === movieId);
  
  if (!movie) {
    document.getElementById("movieDetails").innerHTML = "<p>Movie not found.</p>";
    document.getElementById("loader").style.display = "none";
    return;
  }

  document.getElementById("breadcrumbTitle").textContent = movie.title;
  document.title = `${movie.title} | MoviesHub`;
  document.querySelector('meta[name="description"]').setAttribute("content", movie.description);

  // ✅ Share buttons
  const pageUrl = window.location.href;
  const encodedTitle = encodeURIComponent(movie.title);
  const encodedUrl = encodeURIComponent(pageUrl);
  const shareButtonsHtml = `
    <div class="share-buttons">
      <a class="share-btn whatsapp" href="https://wa.me/?text=${encodedTitle}%20${encodedUrl}" target="_blank">📱 WhatsApp</a>
      <a class="share-btn telegram" href="https://t.me/share/url?url=${encodedUrl}&text=${encodedTitle}" target="_blank">📨 Telegram</a>
      <button class="share-btn copy" onclick="navigator.clipboard.writeText('${pageUrl}').then(()=>alert('Link copied!'))">🔗 Copy Link</button>
    </div>
  `;

  // ✅ Preview images
  let previewsHtml = "";
  if (Array.isArray(movie.preview1) && movie.preview1.length > 0) {
    previewsHtml += `<h3 class="section-heading">🖼️ Preview Images</h3><div class="preview-images">`;
    movie.preview1.forEach((imgUrl, index) => {
      previewsHtml += `<img src="${imgUrl}" alt="Preview ${index + 1}">`;
    });
    previewsHtml += `</div>`;
  }

  // ✅ Normal download buttons
  let downloadButtons = "";
  if (movie.download_480) downloadButtons += `<a href="${movie.download_480}" download class="download-btn">Download Now</a>`;
  if (movie.download_720) downloadButtons += `<a href="${movie.download_720}" download class="download-btn">Download 720p</a>`;
  if (movie.download_1080) downloadButtons += `<a href="${movie.download_1080}" download class="download-btn">Download 1080p</a>`;

  // ✅ JSON-based downloads
  let downloadJsonHtml = "";
  if (movie.downloads) {
    const downloads = movie.downloads;
    const isWebSeries = Object.values(downloads)[0];
    const isNested = typeof isWebSeries === "object" && Object.values(isWebSeries)[0] && typeof Object.values(isWebSeries)[0] === "object";

    if (isNested) {
      downloadJsonHtml += `<h3 class="section-heading">📺 Web Series Downloads</h3>`;
      Object.keys(downloads).forEach(seasonName => {
        downloadJsonHtml += `<details><summary>📂 ${seasonName}</summary><div>`;
        const qualities = downloads[seasonName];
        Object.keys(qualities).forEach(quality => {
          const episodes = qualities[quality];
          downloadJsonHtml += `<details><summary>🎥 ${quality}</summary><div>`;
          Object.keys(episodes).forEach(episode => {
            const originalLink = episodes[episode];
            const proxied = proxyLink(originalLink);
            downloadJsonHtml += `<div>🔹 ${episode} 
              <a href="${proxied}" class="download-btn" target="_blank">Download</a>
            </div>`;
          });
          downloadJsonHtml += `</div></details>`;
        });
        downloadJsonHtml += `</div></details>`;
      });
    } else {
      downloadJsonHtml += `<h3 class="section-heading">🎬 Movie Download Links</h3>`;
      Object.keys(downloads).forEach(label => {
        const qualities = downloads[label];
        downloadJsonHtml += `<details><summary>📥 ${label}</summary><div>`;
        Object.keys(qualities).forEach(quality => {
          const link = qualities[quality];
          const proxied = proxyLink(link);
          downloadJsonHtml += `<div>🔹 ${quality} 
            <a href="${proxied}" class="download-btn" target="_blank">Download</a>
          </div>`;
        });
        downloadJsonHtml += `</div></details>`;
      });
    }
  }

  // ✅ Movie details render
  document.getElementById("movieDetails").innerHTML = `
    <div class="movie-header">
      <img class="poster-img" src="${movie.poster_url}" alt="${movie.title}">
      <div class="info-block">
        <h1 class="movie-title">${movie.title}</h1>
        <p class="genre">🔊 ${movie.genre || "N/A"}</p>
        <p class="year">📅 ${movie.year || "N/A"}</p>
      </div>
    </div>
    ${shareButtonsHtml}
    <div class="description">${movie.description}</div>
    ${previewsHtml}
    <div id="downloadSection" class="downloads">
      ${downloadButtons}
      ${downloadJsonHtml}
    </div>
    <div id="relatedMovies" class="related-movies"></div>
  `;

  // ✅ Protector download button
  if (movie.Dow && Object.keys(movie.Dow).length > 0) {
    let btn = document.createElement("a");
    btn.href = `protector.html?id=${movie.id}`;
    btn.className = "btn-download";
    btn.innerText = "⬇️ Download Now";
    document.getElementById("downloadSection").appendChild(btn);
  }
// ✅ Related Movies (Random Auto-Generated)
let relatedMovies = data.filter(m => m.id !== movie.id);

// Shuffle function (randomize array)
function shuffleArray(arr) {
  return arr.sort(() => Math.random() - 0.8);
}

// Random 8 movies
relatedMovies = shuffleArray(relatedMovies).slice(0, 8);

if (relatedMovies.length > 0) {
  let relatedHtml = "<h3 class='section-heading'>👇🏻👇🏻👇🏻👇🏻👇🏻👇🏻👇🏻👇🏻 </h3><div class='related-grid'>";
  relatedMovies.forEach(rm => {
    relatedHtml += `
      <a href="details.html?id=${rm.id}" class="related-card">
        <img src="${rm.poster_url}" alt="${rm.title}">
        <p>${rm.title}</p>
      </a>
    `;
  });
  relatedHtml += "</div>";
  document.getElementById("relatedMovies").innerHTML = relatedHtml;
}

  document.getElementById("loader").style.display = "none";
})

.catch(err => {
  console.error("Failed to load movie details:", err);
  document.getElementById("movieDetails").innerHTML = "<p>Error loading movie details.</p>";
  document.getElementById("loader").style.display = "none";
});
</script>

</body>
</html>